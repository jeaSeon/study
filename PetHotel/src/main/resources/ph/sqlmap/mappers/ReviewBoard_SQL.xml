<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ph.sqlmap.mappers.ReviewBoard_SQL">
	<resultMap type="board" id="boardResult">
			<result property="boardNo" column="boardNo" />
			<result property="title" column="title" />
			<result property="content" column="content" />
			<result property="wdate" column="wdate" />
			<result property="boardType" column="boardType" />
			<result property="memberId" column="memberId" />
			<result property="memberNickname" column="memberNickname" />
			<result property="employeeId" column="employeeId" />
			<result property="employeeNickname" column="employeeNickname" />
			<result property="employeeRole" column="employeeRole" />
			<result property="reviewPicturePath" column="reviewPicturePath" />
	</resultMap>
		
	<!-- 글 삽입 -->
	<insert id="insertReviewBoard">
		INSERT INTO board(title, content, wdate, boardType, memberId, memberNickname) 
		VALUES(#{title},#{content},NOW(),#{boardType}, #{memberId}, #{memberNickname})
	</insert>
	
	<select id="selectReviewList" resultMap="boardResult">
		select boardNo, boardType, title, memberId, memberNickname, wdate
		from board
		order by boardNo desc
	</select>
	
	
	<select id="selectReview" resultMap="boardResult">
		select *
		FROM board
		WHERE boardNo=#{boardNo}
	</select>
	
	<delete id="deleteReview">
		DELETE from board
		WHERE boardNo=#{boardNo}
	</delete>
	
	
	<update id="updateReview">
		UPDATE board SET title=#{title}, content=#{content} 
		WHERE boardNo=#{boardNo}
	</update>
</mapper>